# Story 012: ìˆ™ì†Œ ìƒì„¸ í˜ì´ì§€

**Epic**: Epic 2 - í…Œë§ˆ ê¸°ë°˜ ìˆ™ì†Œ ë°œê²¬
**Story ID**: 012
**Story**: ìˆ™ì†Œ ìƒì„¸ í˜ì´ì§€ êµ¬í˜„
**Priority**: High
**Estimate**: 12ì‹œê°„
**Status**: Not Started
**Dependencies**: story-007 (íƒœê·¸ ì‹œìŠ¤í…œ), story-009 (ë¦¬ìŠ¤íŒ… í˜ì´ì§€)

---

## ğŸ“‹ Story Description

ì‚¬ìš©ìê°€ ì„ íƒí•œ ìˆ™ì†Œì˜ ìƒì„¸ ì •ë³´ë¥¼ í’ë¶€í•˜ê²Œ ë³´ì—¬ì£¼ëŠ” í˜ì´ì§€ë¥¼ êµ¬í˜„í•©ë‹ˆë‹¤. í˜¸ìŠ¤íŠ¸ì˜ ìŠ¤í† ë¦¬, ê³ í™”ì§ˆ ì´ë¯¸ì§€ ê°¤ëŸ¬ë¦¬, í¸ì˜ì‹œì„¤, í›„ê¸°, ì˜ˆì•½ íŒ¨ë„ ë“±ì„ ì œê³µí•˜ì—¬ ì‚¬ìš©ìê°€ ì¶©ë¶„í•œ ì •ë³´ë¥¼ ë°”íƒ•ìœ¼ë¡œ ì˜ˆì•½ ê²°ì •ì„ ë‚´ë¦´ ìˆ˜ ìˆë„ë¡ ë•ìŠµë‹ˆë‹¤.

### User Story
```
AS A ì´Œìº‰ìŠ¤ë¥¼ ê³„íší•˜ëŠ” ì‚¬ìš©ì
I WANT ìˆ™ì†Œì˜ ìƒì„¸ ì •ë³´, í˜¸ìŠ¤íŠ¸ ìŠ¤í† ë¦¬, ì´ë¯¸ì§€, í›„ê¸°ë¥¼ ë³´ê³ 
SO THAT ì¶©ë¶„í•œ ì •ë³´ë¥¼ ë°”íƒ•ìœ¼ë¡œ ì˜ˆì•½ ì—¬ë¶€ë¥¼ ê²°ì •í•  ìˆ˜ ìˆë‹¤
```

### Business Value
- í˜¸ìŠ¤íŠ¸ì˜ ìŠ¤í† ë¦¬ì™€ ê°ì„±ì ì¸ ì½˜í…ì¸ ë¡œ ë¸Œëœë“œ ì°¨ë³„í™”
- ê³ í™”ì§ˆ ì´ë¯¸ì§€ì™€ ìƒì„¸ ì •ë³´ë¡œ ì˜ˆì•½ ì „í™˜ìœ¨ í–¥ìƒ
- í›„ê¸° ì‹œìŠ¤í…œìœ¼ë¡œ ì‹ ë¢°ë„ ì¦ê°€
- ëª…í™•í•œ CTA (ì˜ˆì•½í•˜ê¸°)ë¡œ ì‚¬ìš©ì ì—¬ì • ì™„ì„±

---

## ğŸ¯ Acceptance Criteria

### AC 1: ì´ë¯¸ì§€ ê°¤ëŸ¬ë¦¬
- [ ] ëŒ€í‘œ ì´ë¯¸ì§€ë¥¼ í° ì‚¬ì´ì¦ˆë¡œ í‘œì‹œ
- [ ] ì´ë¯¸ì§€ ê·¸ë¦¬ë“œ (5-8ê°œ ì¸ë„¤ì¼)
- [ ] ì´ë¯¸ì§€ í´ë¦­ ì‹œ ë¼ì´íŠ¸ë°•ìŠ¤ ëª¨ë‹¬ (ì „ì²´í™”ë©´, ì¢Œìš° ë„¤ë¹„ê²Œì´ì…˜)
- [ ] "ì‚¬ì§„ ëª¨ë‘ ë³´ê¸°" ë²„íŠ¼

### AC 2: ìˆ™ì†Œ ê¸°ë³¸ ì •ë³´
- [ ] ìˆ™ì†Œëª…, ìœ„ì¹˜, í‰ì , í›„ê¸° ìˆ˜
- [ ] íƒœê·¸ (ê°ì„±ì ì¸ ìƒ‰ìƒê³¼ ì´ëª¨ì§€)
- [ ] í˜¸ìŠ¤íŠ¸ í”„ë¡œí•„ (ì´ë¦„, ì‚¬ì§„, "í˜¸ìŠ¤íŠ¸ ì •ë³´ ë³´ê¸°" ë§í¬)
- [ ] ê³µìœ  ë²„íŠ¼, ìœ„ì‹œë¦¬ìŠ¤íŠ¸ ë²„íŠ¼

### AC 3: í˜¸ìŠ¤íŠ¸ ìŠ¤í† ë¦¬ ì„¹ì…˜
- [ ] "í˜¸ìŠ¤íŠ¸ì˜ ì´ì•¼ê¸°" ì œëª©
- [ ] ê°ì„±ì ì¸ ê¸´ í…ìŠ¤íŠ¸ (300-500ì)
- [ ] í˜¸ìŠ¤íŠ¸ê°€ ì§ì ‘ ì‘ì„±í•œ ìŠ¤í† ë¦¬ ê°•ì¡°
- [ ] ê°€ë…ì„± ë†’ì€ íƒ€ì´í¬ê·¸ë˜í”¼ (í° í–‰ê°„, ì„¸ë¦¬í”„ í°íŠ¸ ì˜µì…˜)

### AC 4: í¸ì˜ì‹œì„¤ ë° ìˆ™ì†Œ ì •ë³´
- [ ] ìµœëŒ€ ì¸ì›, ì¹¨ì‹¤ ìˆ˜, ì¹¨ëŒ€ ìˆ˜, ìš•ì‹¤ ìˆ˜
- [ ] í¸ì˜ì‹œì„¤ ì•„ì´ì½˜ ëª©ë¡ (Wi-Fi, ì£¼ì°¨, ì—ì–´ì»¨, ë‚œë°© ë“±)
- [ ] ì²´í¬ì¸/ì²´í¬ì•„ì›ƒ ì‹œê°„
- [ ] ì·¨ì†Œ ì •ì±…

### AC 5: í›„ê¸° ì„¹ì…˜
- [ ] í‰ê·  í‰ì  ë° ì´ í›„ê¸° ìˆ˜ í‘œì‹œ
- [ ] ìµœì‹  í›„ê¸° 3-5ê°œ í‘œì‹œ (ì´ë¦„, ë‚ ì§œ, í‰ì , ë‚´ìš©, ì‚¬ì§„)
- [ ] "í›„ê¸° ëª¨ë‘ ë³´ê¸°" ë²„íŠ¼
- [ ] í›„ê¸° ì—†ì„ ë•Œ "ì•„ì§ í›„ê¸°ê°€ ì—†ìŠµë‹ˆë‹¤" ë©”ì‹œì§€

### AC 6: ìœ„ì¹˜ ì •ë³´
- [ ] ì§€ë„ ì„ë² ë“œ (Kakao Map ë˜ëŠ” Naver Map)
- [ ] ì •í™•í•œ ì£¼ì†ŒëŠ” ì˜ˆì•½ í›„ ê³µê°œ (ì¼ë°˜ì ì¸ ìœ„ì¹˜ë§Œ í‘œì‹œ)
- [ ] ì£¼ë³€ ê´€ê´‘ì§€ ì •ë³´ (ì„ íƒ ì‚¬í•­)

### AC 7: ì˜ˆì•½ íŒ¨ë„
- [ ] 1ë°• ê°€ê²© í‘œì‹œ
- [ ] ì²´í¬ì¸/ì²´í¬ì•„ì›ƒ ë‚ ì§œ ì„ íƒ
- [ ] ì¸ì› ì„ íƒ
- [ ] ì´ ê°€ê²© ê³„ì‚° (ìˆ™ë°• ì¼ìˆ˜ Ã— 1ë°• ê°€ê²©)
- [ ] "ì˜ˆì•½í•˜ê¸°" ë²„íŠ¼ (ë¡œê·¸ì¸ í•„ìš”)
- [ ] ë°ìŠ¤í¬íƒ‘ì—ì„œëŠ” ìŠ¤í¬ë¡¤ ì‹œ sticky

### AC 8: ìœ ì‚¬ ìˆ™ì†Œ ì¶”ì²œ
- [ ] í•˜ë‹¨ì— "ì´ëŸ° ìˆ™ì†ŒëŠ” ì–´ë•Œìš”?" ì„¹ì…˜
- [ ] ë™ì¼ íƒœê·¸ ë˜ëŠ” ë™ì¼ ì§€ì—­ì˜ ìˆ™ì†Œ 4ê°œ ì¶”ì²œ
- [ ] ì¹´ë“œ í˜•íƒœë¡œ í‘œì‹œ

---

## ğŸ§ª Gherkin Scenarios

### Scenario 1: ìˆ™ì†Œ ìƒì„¸ í˜ì´ì§€ ë¡œë“œ
```gherkin
Feature: ìˆ™ì†Œ ìƒì„¸ í˜ì´ì§€

  Scenario: ì‚¬ìš©ìê°€ ìˆ™ì†Œ ìƒì„¸ í˜ì´ì§€ë¥¼ ë°©ë¬¸í•œë‹¤
    Given ì‚¬ìš©ìê°€ ë¦¬ìŠ¤íŒ… í˜ì´ì§€ì—ì„œ "ë‹´ì–‘ ë…¼ë·°í•˜ìš°ìŠ¤" ì¹´ë“œë¥¼ í´ë¦­í–ˆë‹¤
    When "/property/uuid" í˜ì´ì§€ê°€ ë¡œë“œëœë‹¤
    Then ëŒ€í‘œ ì´ë¯¸ì§€ì™€ ì´ë¯¸ì§€ ê·¸ë¦¬ë“œê°€ í‘œì‹œëœë‹¤
    And ìˆ™ì†Œëª… "ë‹´ì–‘ ë…¼ë·°í•˜ìš°ìŠ¤"ê°€ í‘œì‹œëœë‹¤
    And ìœ„ì¹˜ "ì „ë‚¨ ë‹´ì–‘êµ°"ì´ í‘œì‹œëœë‹¤
    And í‰ì  "4.8 (24ê°œ í›„ê¸°)"ê°€ í‘œì‹œëœë‹¤
    And íƒœê·¸ "ë…¼ë·°ë§›ì§‘ ğŸŒ¾", "ë°˜ë ¤ë™ë¬¼ë™ë°˜ ğŸ•"ê°€ í‘œì‹œëœë‹¤
    And í˜¸ìŠ¤íŠ¸ ìŠ¤í† ë¦¬ê°€ í‘œì‹œëœë‹¤
    And ì˜ˆì•½ íŒ¨ë„ì´ í‘œì‹œëœë‹¤
```

### Scenario 2: ì´ë¯¸ì§€ ë¼ì´íŠ¸ë°•ìŠ¤
```gherkin
  Scenario: ì‚¬ìš©ìê°€ ì´ë¯¸ì§€ë¥¼ í´ë¦­í•˜ì—¬ ë¼ì´íŠ¸ë°•ìŠ¤ë¥¼ ì—°ë‹¤
    Given ì‚¬ìš©ìê°€ ìˆ™ì†Œ ìƒì„¸ í˜ì´ì§€ë¥¼ ë³´ê³  ìˆë‹¤
    When ì´ë¯¸ì§€ ê·¸ë¦¬ë“œì—ì„œ ë‘ ë²ˆì§¸ ì´ë¯¸ì§€ë¥¼ í´ë¦­í•œë‹¤
    Then ì „ì²´í™”ë©´ ë¼ì´íŠ¸ë°•ìŠ¤ ëª¨ë‹¬ì´ ë‚˜íƒ€ë‚œë‹¤
    And í´ë¦­í•œ ì´ë¯¸ì§€ê°€ ì¤‘ì•™ì— í¬ê²Œ í‘œì‹œëœë‹¤
    And ì¢Œìš° í™”ì‚´í‘œë¡œ ì´ë¯¸ì§€ë¥¼ ì „í™˜í•  ìˆ˜ ìˆë‹¤
    And ESC í‚¤ ë˜ëŠ” ë‹«ê¸° ë²„íŠ¼ìœ¼ë¡œ ë¼ì´íŠ¸ë°•ìŠ¤ë¥¼ ë‹«ì„ ìˆ˜ ìˆë‹¤
```

### Scenario 3: ì˜ˆì•½ íŒ¨ë„ì—ì„œ ë‚ ì§œ ì„ íƒ
```gherkin
  Scenario: ì‚¬ìš©ìê°€ ì˜ˆì•½ íŒ¨ë„ì—ì„œ ì²´í¬ì¸/ì²´í¬ì•„ì›ƒ ë‚ ì§œë¥¼ ì„ íƒí•œë‹¤
    Given ì‚¬ìš©ìê°€ ìˆ™ì†Œ ìƒì„¸ í˜ì´ì§€ë¥¼ ë³´ê³  ìˆë‹¤
    When ì˜ˆì•½ íŒ¨ë„ì˜ ì²´í¬ì¸ ë‚ ì§œë¥¼ "2025-02-01"ë¡œ ì„ íƒí•œë‹¤
    And ì²´í¬ì•„ì›ƒ ë‚ ì§œë¥¼ "2025-02-03"ë¡œ ì„ íƒí•œë‹¤
    Then ì´ ê°€ê²©ì´ "2ë°• Ã— 90,000ì› = 180,000ì›"ìœ¼ë¡œ ê³„ì‚°ëœë‹¤
    And "ì˜ˆì•½í•˜ê¸°" ë²„íŠ¼ì´ í™œì„±í™”ëœë‹¤
```

### Scenario 4: ë¹„ë¡œê·¸ì¸ ìƒíƒœì—ì„œ ì˜ˆì•½ ì‹œë„
```gherkin
  Scenario: ë¹„ë¡œê·¸ì¸ ì‚¬ìš©ìê°€ ì˜ˆì•½í•˜ê¸° ë²„íŠ¼ì„ í´ë¦­í•œë‹¤
    Given ì‚¬ìš©ìê°€ ë¡œê·¸ì¸ë˜ì–´ ìˆì§€ ì•Šë‹¤
    And ìˆ™ì†Œ ìƒì„¸ í˜ì´ì§€ì—ì„œ ë‚ ì§œì™€ ì¸ì›ì„ ì„ íƒí–ˆë‹¤
    When "ì˜ˆì•½í•˜ê¸°" ë²„íŠ¼ì„ í´ë¦­í•œë‹¤
    Then ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸ëœë‹¤
    And ë¡œê·¸ì¸ í›„ ì›ë˜ í˜ì´ì§€ (ìˆ™ì†Œ ìƒì„¸)ë¡œ ëŒì•„ì˜¨ë‹¤
```

### Scenario 5: ìœ„ì‹œë¦¬ìŠ¤íŠ¸ ì¶”ê°€
```gherkin
  Scenario: ì‚¬ìš©ìê°€ ìˆ™ì†Œë¥¼ ìœ„ì‹œë¦¬ìŠ¤íŠ¸ì— ì¶”ê°€í•œë‹¤
    Given ì‚¬ìš©ìê°€ ë¡œê·¸ì¸ë˜ì–´ ìˆë‹¤
    And ìˆ™ì†Œ ìƒì„¸ í˜ì´ì§€ë¥¼ ë³´ê³  ìˆë‹¤
    When í•˜íŠ¸ ì•„ì´ì½˜ì„ í´ë¦­í•œë‹¤
    Then í•˜íŠ¸ ì•„ì´ì½˜ì´ ì±„ì›Œì§„ ìƒíƒœë¡œ ë³€ê²½ëœë‹¤
    And "ìœ„ì‹œë¦¬ìŠ¤íŠ¸ì— ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤" í† ìŠ¤íŠ¸ ë©”ì‹œì§€ê°€ í‘œì‹œëœë‹¤
```

### Scenario 6: í›„ê¸° ëª¨ë‘ ë³´ê¸°
```gherkin
  Scenario: ì‚¬ìš©ìê°€ "í›„ê¸° ëª¨ë‘ ë³´ê¸°" ë²„íŠ¼ì„ í´ë¦­í•œë‹¤
    Given ìˆ™ì†Œ ìƒì„¸ í˜ì´ì§€ì— í›„ê¸° 3ê°œê°€ í‘œì‹œë˜ì–´ ìˆë‹¤
    When "í›„ê¸° ëª¨ë‘ ë³´ê¸° (24ê°œ)" ë²„íŠ¼ì„ í´ë¦­í•œë‹¤
    Then í›„ê¸° ëª¨ë‹¬ ë˜ëŠ” ë³„ë„ ì„¹ì…˜ì´ ì—´ë¦°ë‹¤
    And ëª¨ë“  í›„ê¸° 24ê°œê°€ í˜ì´ì§€ë„¤ì´ì…˜ê³¼ í•¨ê»˜ í‘œì‹œëœë‹¤
```

### Scenario 7: ê³µìœ  ë²„íŠ¼
```gherkin
  Scenario: ì‚¬ìš©ìê°€ ê³µìœ  ë²„íŠ¼ì„ í´ë¦­í•œë‹¤
    Given ì‚¬ìš©ìê°€ ìˆ™ì†Œ ìƒì„¸ í˜ì´ì§€ë¥¼ ë³´ê³  ìˆë‹¤
    When ê³µìœ  ë²„íŠ¼ì„ í´ë¦­í•œë‹¤
    Then ê³µìœ  ëª¨ë‹¬ì´ ë‚˜íƒ€ë‚œë‹¤
    And "ë§í¬ ë³µì‚¬", "ì¹´ì¹´ì˜¤í†¡", "í˜ì´ìŠ¤ë¶" ì˜µì…˜ì´ í‘œì‹œëœë‹¤
```

### Scenario 8: ìœ ì‚¬ ìˆ™ì†Œ ì¶”ì²œ
```gherkin
  Scenario: ì‚¬ìš©ìê°€ í˜ì´ì§€ í•˜ë‹¨ìœ¼ë¡œ ìŠ¤í¬ë¡¤í•œë‹¤
    Given ì‚¬ìš©ìê°€ ìˆ™ì†Œ ìƒì„¸ í˜ì´ì§€ë¥¼ ë³´ê³  ìˆë‹¤
    When í˜ì´ì§€ í•˜ë‹¨ìœ¼ë¡œ ìŠ¤í¬ë¡¤í•œë‹¤
    Then "ì´ëŸ° ìˆ™ì†ŒëŠ” ì–´ë•Œìš”?" ì„¹ì…˜ì´ í‘œì‹œëœë‹¤
    And 4ê°œì˜ ìœ ì‚¬ ìˆ™ì†Œ ì¹´ë“œê°€ í‘œì‹œëœë‹¤
```

---

## ğŸ”§ API Specifications

### 1. GET /api/v1/properties/{property_id}
**Description**: ìˆ™ì†Œ ìƒì„¸ ì •ë³´ ì¡°íšŒ

**Request**:
```http
GET /api/v1/properties/{property_id}
```

**Response** (200 OK):
```json
{
  "id": "uuid",
  "name": "ë‹´ì–‘ ë…¼ë·°í•˜ìš°ìŠ¤",
  "location": "ì „ë‚¨ ë‹´ì–‘êµ°",
  "address": "ì „ë‚¨ ë‹´ì–‘êµ° ë‹´ì–‘ì (ì •í™•í•œ ì£¼ì†ŒëŠ” ì˜ˆì•½ í›„ ì œê³µ)",
  "latitude": 35.3205,
  "longitude": 126.9881,
  "price_per_night": 90000,
  "main_image_url": "https://example.com/images/property1.jpg",
  "images": [
    {
      "id": "uuid",
      "url": "https://example.com/images/property1.jpg",
      "alt": "ê±°ì‹¤ ì „ê²½",
      "order": 1
    },
    {
      "id": "uuid",
      "url": "https://example.com/images/property1-2.jpg",
      "alt": "ì¹¨ì‹¤",
      "order": 2
    }
  ],
  "rating": 4.8,
  "review_count": 24,
  "host": {
    "id": "uuid",
    "name": "ê¹€í˜¸ìŠ¤íŠ¸",
    "profile_image": "https://...",
    "joined_at": "2024-01-15"
  },
  "story": "ë…¼ë°­ì´ í¼ì³ì§„ ë‹´ì–‘ì˜ ì‘ì€ ë§ˆì„ì— ìë¦¬í•œ ì´ê³³ì€...(ê¸´ ìŠ¤í† ë¦¬ í…ìŠ¤íŠ¸)",
  "description": "ìì—° ì†ì—ì„œ íë§í•  ìˆ˜ ìˆëŠ” ê³µê°„ì…ë‹ˆë‹¤.",
  "tags": [
    { "id": "uuid", "name": "ë…¼ë·°ë§›ì§‘", "emoji": "ğŸŒ¾", "color": "#F4C430" },
    { "id": "uuid", "name": "ë°˜ë ¤ë™ë¬¼ë™ë°˜", "emoji": "ğŸ•", "color": "#A0522D" }
  ],
  "max_guests": 4,
  "bedrooms": 2,
  "beds": 2,
  "bathrooms": 1,
  "allows_pets": true,
  "check_in_time": "15:00",
  "check_out_time": "11:00",
  "amenities": [
    { "id": "uuid", "name": "Wi-Fi", "icon": "wifi" },
    { "id": "uuid", "name": "ì£¼ì°¨ ê°€ëŠ¥", "icon": "parking" },
    { "id": "uuid", "name": "ì—ì–´ì»¨", "icon": "air-conditioning" },
    { "id": "uuid", "name": "ë‚œë°©", "icon": "heating" },
    { "id": "uuid", "name": "ì£¼ë°©", "icon": "kitchen" }
  ],
  "cancellation_policy": "ì²´í¬ì¸ 7ì¼ ì „ê¹Œì§€ ë¬´ë£Œ ì·¨ì†Œ ê°€ëŠ¥",
  "is_wishlisted": false,
  "created_at": "2024-06-15T10:00:00Z"
}
```

**Response** (404 Not Found):
```json
{
  "detail": {
    "code": "PROPERTY_NOT_FOUND",
    "message": "ìˆ™ì†Œë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤"
  }
}
```

---

### 2. GET /api/v1/properties/{property_id}/reviews
**Description**: ìˆ™ì†Œ í›„ê¸° ëª©ë¡ ì¡°íšŒ

**Request**:
```http
GET /api/v1/properties/{property_id}/reviews?page=1&limit=10
```

**Query Parameters**:
- `page` (optional, default=1): í˜ì´ì§€ ë²ˆí˜¸
- `limit` (optional, default=10): í˜ì´ì§€ë‹¹ ê²°ê³¼ ìˆ˜

**Response** (200 OK):
```json
{
  "total": 24,
  "page": 1,
  "limit": 10,
  "reviews": [
    {
      "id": "uuid",
      "user": {
        "id": "uuid",
        "name": "ì´**",
        "profile_image": "https://..."
      },
      "rating": 5,
      "content": "ë„ˆë¬´ ì¢‹ì•˜ì–´ìš”! ë…¼ë·°ê°€ ì •ë§ ì˜ˆë»¤ìŠµë‹ˆë‹¤. íë§í•˜ê³  ê°‘ë‹ˆë‹¤.",
      "images": [
        { "id": "uuid", "url": "https://...", "alt": "í›„ê¸° ì‚¬ì§„" }
      ],
      "created_at": "2025-01-10T14:30:00Z"
    }
  ]
}
```

---

### 3. GET /api/v1/properties/{property_id}/similar
**Description**: ìœ ì‚¬ ìˆ™ì†Œ ì¶”ì²œ

**Request**:
```http
GET /api/v1/properties/{property_id}/similar?limit=4
```

**Query Parameters**:
- `limit` (optional, default=4): ì¶”ì²œ ìˆ™ì†Œ ê°œìˆ˜

**Response** (200 OK):
```json
{
  "properties": [
    {
      "id": "uuid",
      "name": "ì„œì‚° í™©ê¸ˆë“¤íŒíœì…˜",
      "location": "ì¶©ë‚¨ ì„œì‚°ì‹œ",
      "price_per_night": 85000,
      "main_image_url": "https://...",
      "rating": 4.6,
      "review_count": 18,
      "tags": [
        { "id": "uuid", "name": "ë…¼ë·°ë§›ì§‘", "emoji": "ğŸŒ¾", "color": "#F4C430" }
      ]
    }
  ]
}
```

---

### 4. POST /api/v1/properties/{property_id}/share
**Description**: ê³µìœ  ì´ë²¤íŠ¸ ì¶”ì  (ì„ íƒ ì‚¬í•­)

**Request**:
```http
POST /api/v1/properties/{property_id}/share
Content-Type: application/json

{
  "platform": "kakao"
}
```

**Response** (201 Created):
```json
{
  "message": "ê³µìœ ë˜ì—ˆìŠµë‹ˆë‹¤"
}
```

---

## ğŸ—„ï¸ Database Schema

### Table: `properties` (ê¸°ì¡´ í…Œì´ë¸”ì— í•„ë“œ ì¶”ê°€)
```sql
ALTER TABLE properties
ADD COLUMN story TEXT,
ADD COLUMN bedrooms INTEGER DEFAULT 1,
ADD COLUMN beds INTEGER DEFAULT 1,
ADD COLUMN bathrooms INTEGER DEFAULT 1,
ADD COLUMN check_in_time VARCHAR(10) DEFAULT '15:00',
ADD COLUMN check_out_time VARCHAR(10) DEFAULT '11:00',
ADD COLUMN cancellation_policy TEXT,
ADD COLUMN latitude DECIMAL(10, 8),
ADD COLUMN longitude DECIMAL(11, 8);
```

### Table: `property_images`
ìˆ™ì†Œ ì´ë¯¸ì§€ ê´€ë¦¬

```sql
CREATE TABLE property_images (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    property_id UUID NOT NULL REFERENCES properties(id) ON DELETE CASCADE,
    url VARCHAR(500) NOT NULL,
    alt VARCHAR(255),
    order INTEGER NOT NULL DEFAULT 0,
    created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP
);

CREATE INDEX idx_property_images_property ON property_images(property_id, order);
```

### Table: `amenities`
í¸ì˜ì‹œì„¤ ì •ì˜

```sql
CREATE TABLE amenities (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    name VARCHAR(100) NOT NULL UNIQUE,
    icon VARCHAR(50),
    category VARCHAR(50),
    created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP
);
```

### Table: `property_amenities`
ìˆ™ì†Œì™€ í¸ì˜ì‹œì„¤ì˜ ë‹¤ëŒ€ë‹¤ ê´€ê³„

```sql
CREATE TABLE property_amenities (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    property_id UUID NOT NULL REFERENCES properties(id) ON DELETE CASCADE,
    amenity_id UUID NOT NULL REFERENCES amenities(id) ON DELETE CASCADE,
    created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    UNIQUE(property_id, amenity_id)
);

CREATE INDEX idx_property_amenities_property ON property_amenities(property_id);
```

### Table: `reviews`
ìˆ™ì†Œ í›„ê¸°

```sql
CREATE TABLE reviews (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    property_id UUID NOT NULL REFERENCES properties(id) ON DELETE CASCADE,
    user_id UUID NOT NULL REFERENCES users(id) ON DELETE CASCADE,
    booking_id UUID REFERENCES bookings(id) ON DELETE SET NULL,
    rating INTEGER NOT NULL CHECK (rating >= 1 AND rating <= 5),
    content TEXT NOT NULL,
    created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    UNIQUE(user_id, booking_id)
);

CREATE INDEX idx_reviews_property ON reviews(property_id, created_at DESC);
CREATE INDEX idx_reviews_user ON reviews(user_id);
```

### Table: `review_images`
í›„ê¸° ì´ë¯¸ì§€

```sql
CREATE TABLE review_images (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    review_id UUID NOT NULL REFERENCES reviews(id) ON DELETE CASCADE,
    url VARCHAR(500) NOT NULL,
    alt VARCHAR(255),
    created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP
);

CREATE INDEX idx_review_images_review ON review_images(review_id);
```

---

## ğŸ› ï¸ Implementation Tasks

### Backend Tasks

#### 1. ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜ (1.5ì‹œê°„)
- [ ] properties í…Œì´ë¸”ì— í•„ë“œ ì¶”ê°€ (story, bedrooms, beds, bathrooms, check_in_time, check_out_time, cancellation_policy, latitude, longitude)
- [ ] property_images, amenities, property_amenities, reviews, review_images í…Œì´ë¸” ìƒì„±
- [ ] Alembic ë§ˆì´ê·¸ë ˆì´ì…˜ ì‹¤í–‰

#### 2. ëª¨ë¸ ìƒì„± (1ì‹œê°„)
- [ ] `backend/app/models/property.py` ìˆ˜ì •
  - Property ëª¨ë¸ì— í•„ë“œ ì¶”ê°€
- [ ] `backend/app/models/amenity.py` ìƒì„±
  - Amenity, PropertyAmenity ëª¨ë¸ ì •ì˜
- [ ] `backend/app/models/review.py` ìƒì„±
  - Review, ReviewImage ëª¨ë¸ ì •ì˜
- [ ] `backend/app/models/property_image.py` ìƒì„±
  - PropertyImage ëª¨ë¸ ì •ì˜

#### 3. ìŠ¤í‚¤ë§ˆ ìƒì„± (1ì‹œê°„)
- [ ] `backend/app/schemas/property.py` ìˆ˜ì •
  - PropertyDetailResponse (ëª¨ë“  ìƒì„¸ ì •ë³´ í¬í•¨)
  - PropertyImageResponse, AmenityResponse
- [ ] `backend/app/schemas/review.py` ìƒì„±
  - ReviewResponse, ReviewListResponse

#### 4. API ì—”ë“œí¬ì¸íŠ¸ êµ¬í˜„ (3ì‹œê°„)
- [ ] `backend/app/routers/property.py` ìˆ˜ì •
  - GET /api/v1/properties/{property_id} (ìƒì„¸ ì •ë³´)
  - GET /api/v1/properties/{property_id}/reviews
  - GET /api/v1/properties/{property_id}/similar
    - ë™ì¼ íƒœê·¸ ìš°ì„ , ë™ì¼ ì§€ì—­ ì°¨ì„ 
- [ ] `backend/app/routers/review.py` ìƒì„± (í–¥í›„ í™•ì¥)
  - POST /api/v1/reviews (í›„ê¸° ì‘ì„±)

#### 5. ì‹œë“œ ë°ì´í„° ì‘ì„± (1.5ì‹œê°„)
- [ ] `backend/scripts/seed_properties.py` ìˆ˜ì •
  - story, bedrooms, beds, bathrooms, latitude, longitude ì¶”ê°€
- [ ] `backend/scripts/seed_property_images.py` ìƒì„±
  - ê° ìˆ™ì†Œë‹¹ 5-8ê°œ ì´ë¯¸ì§€
- [ ] `backend/scripts/seed_amenities.py` ìƒì„±
  - Wi-Fi, ì£¼ì°¨, ì—ì–´ì»¨, ë‚œë°©, ì£¼ë°© ë“± 20ê°œ í¸ì˜ì‹œì„¤
- [ ] `backend/scripts/seed_reviews.py` ìƒì„±
  - ê° ìˆ™ì†Œë‹¹ 3-10ê°œ í›„ê¸°

---

### Frontend Tasks

#### 1. íƒ€ì… ì •ì˜ (1ì‹œê°„)
- [ ] `src/types/property.ts` ìˆ˜ì •
  - PropertyDetail, PropertyImage, Amenity ì¸í„°í˜ì´ìŠ¤
- [ ] `src/types/review.ts` ìƒì„±
  - Review, ReviewImage ì¸í„°í˜ì´ìŠ¤

#### 2. API í´ë¼ì´ì–¸íŠ¸ (30ë¶„)
- [ ] `src/lib/api/property.ts` ìˆ˜ì •
  - getPropertyDetail(id: string)
  - getSimilarProperties(id: string)
- [ ] `src/lib/api/review.ts` ìƒì„±
  - getPropertyReviews(propertyId: string, page: number)

#### 3. ì»´í¬ë„ŒíŠ¸ ìƒì„± (4ì‹œê°„)
- [ ] `src/components/property/ImageGallery.tsx`
  - ëŒ€í‘œ ì´ë¯¸ì§€ + ì¸ë„¤ì¼ ê·¸ë¦¬ë“œ
  - "ì‚¬ì§„ ëª¨ë‘ ë³´ê¸°" ë²„íŠ¼
- [ ] `src/components/property/ImageLightbox.tsx`
  - ì „ì²´í™”ë©´ ë¼ì´íŠ¸ë°•ìŠ¤ ëª¨ë‹¬
  - ì¢Œìš° ë„¤ë¹„ê²Œì´ì…˜, ESC í‚¤ ì§€ì›
- [ ] `src/components/property/PropertyHeader.tsx`
  - ìˆ™ì†Œëª…, ìœ„ì¹˜, í‰ì , ê³µìœ , ìœ„ì‹œë¦¬ìŠ¤íŠ¸ ë²„íŠ¼
- [ ] `src/components/property/HostStory.tsx`
  - í˜¸ìŠ¤íŠ¸ ìŠ¤í† ë¦¬ ì„¹ì…˜
  - ê°€ë…ì„± ë†’ì€ íƒ€ì´í¬ê·¸ë˜í”¼
- [ ] `src/components/property/PropertyInfo.tsx`
  - ìµœëŒ€ ì¸ì›, ì¹¨ì‹¤/ì¹¨ëŒ€/ìš•ì‹¤ ìˆ˜
  - í¸ì˜ì‹œì„¤ ì•„ì´ì½˜ ë¦¬ìŠ¤íŠ¸
  - ì²´í¬ì¸/ì²´í¬ì•„ì›ƒ ì‹œê°„, ì·¨ì†Œ ì •ì±…
- [ ] `src/components/property/ReviewSection.tsx`
  - í‰ê·  í‰ì , í›„ê¸° ì¹´ë“œ ë¦¬ìŠ¤íŠ¸
  - "í›„ê¸° ëª¨ë‘ ë³´ê¸°" ë²„íŠ¼
- [ ] `src/components/property/BookingPanel.tsx`
  - ë‚ ì§œ ì„ íƒ, ì¸ì› ì„ íƒ
  - ì´ ê°€ê²© ê³„ì‚°
  - "ì˜ˆì•½í•˜ê¸°" ë²„íŠ¼
  - Sticky ì²˜ë¦¬ (ë°ìŠ¤í¬íƒ‘)
- [ ] `src/components/property/LocationMap.tsx`
  - Kakao Map ë˜ëŠ” Naver Map ì„ë² ë“œ
- [ ] `src/components/property/SimilarProperties.tsx`
  - ìœ ì‚¬ ìˆ™ì†Œ ì¹´ë“œ 4ê°œ

#### 4. ìƒì„¸ í˜ì´ì§€ ìƒì„± (1.5ì‹œê°„)
- [ ] `src/app/property/[id]/page.tsx` ìƒì„±
  - ì„œë²„ ì»´í¬ë„ŒíŠ¸ë¡œ ë°ì´í„° í˜ì¹­
  - ëª¨ë“  ì„¹ì…˜ í†µí•©
  - ë¡œë”© ë° ì—ëŸ¬ ìƒíƒœ ì²˜ë¦¬
- [ ] `src/app/property/[id]/loading.tsx` ìƒì„±
  - ìŠ¤ì¼ˆë ˆí†¤ UI

#### 5. ê³µìœ  ê¸°ëŠ¥ (1ì‹œê°„)
- [ ] `src/components/property/ShareModal.tsx`
  - ë§í¬ ë³µì‚¬, ì¹´ì¹´ì˜¤í†¡, í˜ì´ìŠ¤ë¶ ê³µìœ 
  - Web Share API í™œìš© (ëª¨ë°”ì¼)

#### 6. ë°˜ì‘í˜• ìŠ¤íƒ€ì¼ë§ (1ì‹œê°„)
- [ ] ëª¨ë°”ì¼: ì„¸ë¡œ ìŠ¤í¬ë¡¤, ì˜ˆì•½ íŒ¨ë„ í•˜ë‹¨ ê³ ì •
- [ ] ë°ìŠ¤í¬íƒ‘: 2ì—´ ë ˆì´ì•„ì›ƒ (ì½˜í…ì¸  | ì˜ˆì•½ íŒ¨ë„)
- [ ] Tailwind CSS Grid ë° Flexbox í™œìš©

---

## ğŸ“š Technical Notes

### 1. ì´ë¯¸ì§€ ë¼ì´íŠ¸ë°•ìŠ¤ ë¼ì´ë¸ŒëŸ¬ë¦¬
**yet-another-react-lightbox** ì¶”ì²œ:
```bash
npm install yet-another-react-lightbox
```

```tsx
import Lightbox from "yet-another-react-lightbox";
import "yet-another-react-lightbox/styles.css";

<Lightbox
  open={isOpen}
  close={() => setIsOpen(false)}
  slides={images.map(img => ({ src: img.url }))}
  index={currentIndex}
/>
```

### 2. Sticky ì˜ˆì•½ íŒ¨ë„
```tsx
<div className="lg:sticky lg:top-24 lg:h-fit">
  <BookingPanel />
</div>
```

### 3. ì§€ë„ ì„ë² ë“œ (Kakao Map)
```tsx
import { useEffect, useRef } from 'react';

const KakaoMap = ({ latitude, longitude }: { latitude: number; longitude: number }) => {
  const mapRef = useRef<HTMLDivElement>(null);

  useEffect(() => {
    if (!window.kakao || !mapRef.current) return;

    const kakao = window.kakao;
    const mapOption = {
      center: new kakao.maps.LatLng(latitude, longitude),
      level: 5,
    };

    const map = new kakao.maps.Map(mapRef.current, mapOption);
    const markerPosition = new kakao.maps.LatLng(latitude, longitude);
    const marker = new kakao.maps.Marker({
      position: markerPosition,
    });

    marker.setMap(map);
  }, [latitude, longitude]);

  return <div ref={mapRef} className="w-full h-96" />;
};
```

### 4. ê³µìœ  ê¸°ëŠ¥ (Web Share API)
```tsx
const handleShare = async () => {
  if (navigator.share) {
    await navigator.share({
      title: property.name,
      text: property.description,
      url: window.location.href,
    });
  } else {
    // Fallback: ë§í¬ ë³µì‚¬
    await navigator.clipboard.writeText(window.location.href);
    toast.success('ë§í¬ê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤');
  }
};
```

### 5. ìœ ì‚¬ ìˆ™ì†Œ ì¶”ì²œ ë¡œì§ (Backend)
```python
# 1. ë™ì¼ íƒœê·¸ë¥¼ ê°€ì§„ ìˆ™ì†Œ ìš°ì„ 
same_tag_properties = (
    select(Property)
    .join(PropertyTag)
    .where(
        PropertyTag.tag_id.in_(current_property.tag_ids),
        Property.id != property_id
    )
    .group_by(Property.id)
    .order_by(func.count(PropertyTag.id).desc())
    .limit(4)
)

# 2. ë™ì¼ ì§€ì—­ ìˆ™ì†Œ ì°¨ì„ 
same_location_properties = (
    select(Property)
    .where(
        Property.province == current_property.province,
        Property.id != property_id
    )
    .order_by(Property.rating.desc())
    .limit(4)
)
```

### 6. SEO ìµœì í™”
- meta íƒœê·¸: title, description, og:image
- êµ¬ì¡°í™”ëœ ë°ì´í„° (JSON-LD): Place, Organization
- Canonical URL ì„¤ì •

---

## ğŸ”— Dependencies

- **story-007**: íƒœê·¸ ì‹œìŠ¤í…œ í‘œì‹œ
- **story-009**: ë¦¬ìŠ¤íŒ… í˜ì´ì§€ì—ì„œ ìƒì„¸ í˜ì´ì§€ë¡œ ë§í¬

---

## âœ… Definition of Done

- [ ] ì´ë¯¸ì§€ ê°¤ëŸ¬ë¦¬ê°€ ë¼ì´íŠ¸ë°•ìŠ¤ì™€ í•¨ê»˜ ì‘ë™
- [ ] ìˆ™ì†Œ ê¸°ë³¸ ì •ë³´ (ì´ë¦„, ìœ„ì¹˜, í‰ì , íƒœê·¸) í‘œì‹œ
- [ ] í˜¸ìŠ¤íŠ¸ ìŠ¤í† ë¦¬ ì„¹ì…˜ í‘œì‹œ
- [ ] í¸ì˜ì‹œì„¤ ì•„ì´ì½˜ ëª©ë¡ í‘œì‹œ
- [ ] í›„ê¸° ì„¹ì…˜ì— ìµœì‹  í›„ê¸° 3-5ê°œ í‘œì‹œ
- [ ] ì§€ë„ì— ìˆ™ì†Œ ìœ„ì¹˜ í‘œì‹œ
- [ ] ì˜ˆì•½ íŒ¨ë„ì—ì„œ ë‚ ì§œ/ì¸ì› ì„ íƒ ë° ê°€ê²© ê³„ì‚°
- [ ] ë°ìŠ¤í¬íƒ‘ì—ì„œ ì˜ˆì•½ íŒ¨ë„ì´ sticky
- [ ] ê³µìœ  ë²„íŠ¼ìœ¼ë¡œ ë§í¬ ë³µì‚¬ ë˜ëŠ” SNS ê³µìœ  ê°€ëŠ¥
- [ ] ìœ ì‚¬ ìˆ™ì†Œ 4ê°œ ì¶”ì²œ í‘œì‹œ
- [ ] ëª¨ë°”ì¼/íƒœë¸”ë¦¿/ë°ìŠ¤í¬íƒ‘ ë°˜ì‘í˜• ì‘ë™
- [ ] API ì‘ë‹µ ì‹œê°„ < 800ms (ë¡œì»¬ í™˜ê²½ ê¸°ì¤€)
- [ ] ì½”ë“œ ë¦¬ë·° ì™„ë£Œ ë° main ë¸Œëœì¹˜ ë¨¸ì§€
- [ ] STORY-TRACKER.md ì—…ë°ì´íŠ¸

---

## ğŸ“ Notes

- í˜¸ìŠ¤íŠ¸ ìŠ¤í† ë¦¬ëŠ” ChonCanceì˜ í•µì‹¬ ì°¨ë³„ì ì´ë¯€ë¡œ ê°€ë…ì„±ê³¼ ê°ì„±ì— íŠ¹íˆ ì‹ ê²½ ì“¸ ê²ƒ
- ì´ë¯¸ì§€ëŠ” ê³ í™”ì§ˆë¡œ ì œê³µí•˜ë˜, Next.js Image ì»´í¬ë„ŒíŠ¸ë¡œ ìµœì í™”
- ì˜ˆì•½ íŒ¨ë„ì˜ ë‚ ì§œ ì„ íƒì€ story-011ì˜ ë‚ ì§œ í•„í„°ì™€ ë™ì¼í•œ ë¡œì§ ì‚¬ìš©
- í›„ê¸° ì‘ì„± ê¸°ëŠ¥ì€ ë³„ë„ ìŠ¤í† ë¦¬ë¡œ ë¶„ë¦¬ (Epic 3 ë˜ëŠ” 4)
- ì •í™•í•œ ì£¼ì†ŒëŠ” ë³´ì•ˆìƒ ì˜ˆì•½ í›„ì—ë§Œ ê³µê°œ (PRD ì°¸ê³ )
