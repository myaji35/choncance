# Story 5.2: Review Display on Property Page

## Status
Ready for Implementation

## Story
**As a** potential guest browsing a property,
**I want** to read reviews from previous guests,
**so that** I can assess the quality and suitability of the property.

## Acceptance Criteria
1. Property detail page shows average rating (stars) near property name
2. Average rating calculated from all published reviews
3. Display total review count: "(X개 후기)"
4. Review section shows up to 10 most recent reviews
5. Each review shows: guest name (masked: 홍*동), rating stars, date, review text
6. "더 보기" button loads more reviews (pagination)
7. Reviews sorted by date (newest first)
8. If no reviews: "아직 후기가 없습니다" empty state
9. All text in Korean
10. Responsive layout

## Tasks
- [ ] Add review section to property detail page
- [ ] Calculate and display average rating
- [ ] Create ReviewCard component
- [ ] Mask guest names for privacy (e.g., "홍길동" → "홍*동")
- [ ] Fetch reviews: GET /api/properties/[id]/reviews?page=1&limit=10
- [ ] Implement pagination with "더 보기" button
- [ ] Handle empty state (no reviews)
- [ ] Testing: rating calculation, name masking, pagination, responsive

## Dev Notes
**Average Rating Calculation:**
```typescript
const avgRating = await prisma.review.aggregate({
  where: { propertyId, status: 'PUBLISHED' },
  _avg: { rating: true },
  _count: true
});

// Display: 4.5 ⭐ (12개 후기)
```

**Name Masking:**
```typescript
const maskName = (name: string) => {
  if (name.length < 2) return name;
  return name[0] + '*' + (name.length > 2 ? name[name.length - 1] : '');
};
// "홍길동" → "홍*동"
// "김철수" → "김*수"
```

**Korean Labels:** "후기", "평점", "개 후기", "더 보기"

## Change Log
| Date | Version | Author |
|------|---------|--------|
| 2025-10-27 | 1.0 | John (PM) |

## Priority: P1 (High) | Story Points: 3 | Epic: Epic 5
