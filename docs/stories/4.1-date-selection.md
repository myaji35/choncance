# Story 4.1: Date Selection and Availability Check

## Status
Ready for Implementation

## Story
**As a** guest browsing a property,
**I want** to select check-in and check-out dates and see availability,
**so that** I can plan my trip and make a booking.

## Acceptance Criteria
1. Property detail page displays an interactive calendar
2. Already booked dates are disabled/grayed out
3. User can select check-in date, then check-out date
4. Minimum stay: 1 night
5. Selected dates are highlighted
6. Calendar shows availability for next 12 months
7. Price breakdown updates based on selected dates
8. "예약하기" button enabled only when valid dates selected
9. All labels and messages in Korean

## Tasks
- [ ] Integrate react-day-picker or shadcn/ui Calendar component
- [ ] Fetch booked dates from API: `GET /api/properties/[id]/availability`
- [ ] Disable booked dates in calendar UI
- [ ] Implement date range selection logic
- [ ] Calculate number of nights and total price
- [ ] Display price breakdown: (nights × price per night)
- [ ] Enable/disable booking button based on validity
- [ ] Testing: date selection, disabled dates, price calculation

## Dev Notes
**Database Query:**
```typescript
const bookedDates = await prisma.booking.findMany({
  where: {
    propertyId,
    status: { in: ['CONFIRMED', 'CHECKED_IN'] }
  },
  select: { checkIn: true, checkOut: true }
});
```

**Korean Labels:** "체크인", "체크아웃", "X박", "총 금액"

## Change Log
| Date | Version | Author |
|------|---------|--------|
| 2025-10-27 | 1.0 | John (PM) |

## Priority: P0 | Story Points: 5 | Epic: Epic 4
