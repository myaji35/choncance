# 호스트 기능 사용 가이드

**ChonCance 호스트 대시보드 및 숙소 관리 시스템**

작성일: 2025-10-28
버전: 1.0
구현 완료: Epic 3 (호스트 관리)

---

## 📋 목차

1. [호스트 등록](#호스트-등록)
2. [호스트 대시보드 사용법](#호스트-대시보드-사용법)
3. [숙소 등록하기](#숙소-등록하기)
4. [숙소 관리](#숙소-관리)
5. [예약 관리](#예약-관리)
6. [API 엔드포인트](#api-엔드포인트)

---

## 호스트 등록

### 1. 호스트 되기

**URL**: `/become-a-host`

호스트로 등록하기 위해서는 먼저 회원가입 및 로그인이 필요합니다.

**필수 정보**:
- 사업자 등록번호
- 연락처
- 이메일 (회원가입 시 사용한 이메일)

**승인 프로세스**:
1. 호스트 신청 제출
2. 관리자 검토 (영업일 기준 2-3일)
3. 승인 완료 시 이메일 알림
4. 호스트 대시보드 접근 가능

---

## 호스트 대시보드 사용법

### 접근 방법

**URL**: `/host/dashboard`

호스트로 승인된 후 로그인 상태에서 접근 가능합니다.

### 대시보드 구성

#### 1. 통계 카드

대시보드 상단에 4개의 통계 카드가 표시됩니다:

- **전체 숙소**: 등록한 모든 숙소 개수
- **승인된 숙소**: 관리자 승인을 받아 공개된 숙소 개수
- **검토 중**: 관리자 검토 대기 중인 숙소 개수
- **총 예약**: 모든 숙소의 예약 건수 합계

#### 2. 탭 메뉴

##### 📍 내 숙소 탭

- 등록한 모든 숙소 목록 표시
- 각 숙소 정보:
  - 대표 이미지 썸네일
  - 숙소 이름
  - 주소
  - 1박 가격
  - 승인 상태 (승인됨/검토 중/거부됨/비활성)
  - 예약 건수

**작업 버튼**:
- 👁️ **보기**: 숙소 상세 페이지로 이동
- ✏️ **수정**: 숙소 정보 수정 페이지로 이동 (TODO)
- 🗑️ **삭제**: 숙소 삭제 (TODO)

##### 📅 예약 관리 탭

- 최근 10개의 예약 내역 표시
- 각 예약 정보:
  - 숙소 이름
  - 게스트 이름 및 연락처
  - 체크인/체크아웃 날짜
  - 인원
  - 총 금액
  - 예약 상태 (확정/대기 중/취소됨/완료)

**대기 중인 예약 관리**:
- ✅ **승인**: 예약 확정 (TODO)
- ❌ **거부**: 예약 거부 (TODO)

##### ⚙️ 설정 탭

- 호스트 프로필 정보 확인
- 사업자 번호, 연락처, 승인 상태 표시
- 프로필 수정 기능 (TODO)

---

## 숙소 등록하기

### 접근 방법

**URL**: `/host/properties/new`

대시보드 우측 상단의 **"숙소 등록하기"** 버튼 클릭 또는 직접 URL 접근

### 등록 절차

#### 1. 기본 정보

**필수 항목**:
- **숙소 이름**: 숙소의 매력을 담은 이름 (예: "논뷰가 아름다운 한옥")
- **숙소 설명**: 숙소에 대한 자세한 설명 (최소 100자 권장)

**선택 항목**:
- **호스트 스토리**: 게스트에게 전하고 싶은 이야기 (강력 권장)

#### 2. 위치 정보

**필수 항목**:
- **주소**: 전체 주소 입력

**선택 항목**:
- **시/도**: 예) 강원도
- **시/군/구**: 예) 강릉시

> 💡 **팁**: 시/도와 시/군/구를 입력하면 지역 필터에서 검색이 가능합니다.

#### 3. 가격 및 인원

**필수 항목**:
- **1박 가격**: 숙소의 1박 기본 가격 (원 단위)
- **최대 인원**: 숙소에 수용 가능한 최대 인원

**선택 항목**:
- **반려동물 동반 가능**: 체크 시 반려동물 동반 가능 숙소로 표시

#### 4. 체크인/체크아웃

- **체크인 시간**: 기본값 15:00
- **체크아웃 시간**: 기본값 11:00
- **최소 숙박일**: 기본값 1박
- **최대 숙박일**: 기본값 30박

#### 5. 편의시설

제공되는 편의시설을 선택하세요:

- 와이파이
- 주차
- 주방
- 에어컨
- 난방
- 세탁기
- TV
- 업무 공간

#### 6. 태그 선택

숙소의 특징을 나타내는 태그를 선택하세요. 카테고리별로 선택 가능합니다:

- **VIEW (뷰)**: #논뷰맛집, #바다뷰, #산뷰, #강뷰
- **ACTIVITY (액티비티)**: #아궁이체험, #농사체험, #낚시, #등산
- **FACILITY (시설)**: #반려동물동반, #주차가능, #수영장, #바비큐
- **VIBE (분위기)**: #힐링, #불멍과별멍, #찐할머니손맛, #전통한옥

> 💡 **팁**: 태그는 게스트가 숙소를 찾을 때 중요한 검색 요소입니다. 정확한 태그를 선택하세요.

#### 7. 이미지

**대표 이미지 URL**: 숙소를 대표하는 1장의 이미지 URL
**추가 이미지 URL**: 추가 이미지 URL들을 쉼표(,)로 구분하여 입력

> ⚠️ **주의**: 현재는 이미지 URL을 직접 입력해야 합니다. 파일 업로드 기능은 추후 추가 예정입니다.

**권장 이미지 크기**: 1200x800px 이상

#### 8. 숙소 규칙

게스트가 지켜야 할 숙소 이용 규칙을 입력하세요.

예시:
```
- 실내 금연
- 파티 및 이벤트 불가
- 반려동물 불가
- 체크인 시간 엄수
- 쓰레기 분리수거
```

### 제출 및 검토

1. **숙소 등록하기** 버튼 클릭
2. 관리자 검토 (영업일 기준 1-2일)
3. 승인 시 숙소가 공개되며 게스트가 예약 가능
4. 거부 시 거부 사유와 함께 이메일 발송

---

## 숙소 관리

### 숙소 상태

숙소는 다음 4가지 상태를 가집니다:

1. **검토 중 (PENDING)**: 관리자 검토 대기 중, 공개되지 않음
2. **승인됨 (APPROVED)**: 관리자 승인 완료, 공개 및 예약 가능
3. **거부됨 (REJECTED)**: 관리자에 의해 거부됨, 수정 후 재등록 필요
4. **비활성 (INACTIVE)**: 호스트가 임시로 비활성화한 상태

### 숙소 수정 (TODO)

**URL**: `/host/properties/{propertyId}/edit`

1. 대시보드의 숙소 목록에서 **수정** 버튼 클릭
2. 등록 시와 동일한 폼에서 정보 수정
3. 수정 후 재검토 필요 여부는 관리자가 결정

### 숙소 삭제 (TODO)

1. 대시보드의 숙소 목록에서 **삭제** 버튼 클릭
2. 삭제 확인 모달 표시
3. 확인 시 숙소 영구 삭제

> ⚠️ **주의**: 진행 중인 예약이 있는 숙소는 삭제할 수 없습니다.

---

## 예약 관리

### 예약 상태

예약은 다음 6가지 상태를 가집니다:

1. **대기 중 (PENDING)**: 호스트 승인 대기 중
2. **확정 (CONFIRMED)**: 호스트가 승인하여 예약 확정
3. **취소됨 (CANCELLED)**: 게스트 또는 호스트가 취소
4. **완료 (COMPLETED)**: 체크아웃 완료
5. **거부됨 (REJECTED)**: 호스트가 예약 거부
6. **노쇼 (NO_SHOW)**: 게스트가 체크인하지 않음

### 예약 승인/거부 (TODO)

**대기 중인 예약 처리**:

1. 대시보드의 **예약 관리** 탭으로 이동
2. 대기 중인 예약에서 **승인** 또는 **거부** 버튼 클릭
3. 거부 시 거부 사유 입력
4. 게스트에게 이메일 알림 발송

---

## API 엔드포인트

### 호스트 인증 필요

모든 호스트 API는 Clerk 인증이 필요하며, 호스트 프로필이 있어야 접근 가능합니다.

### 1. 숙소 등록

```http
POST /api/host/properties
Content-Type: application/json
Authorization: Bearer {clerk-token}

{
  "name": "논뷰가 아름다운 한옥",
  "description": "전통 한옥에서의 힐링...",
  "address": "강원도 강릉시 주문진읍",
  "province": "강원도",
  "city": "강릉시",
  "pricePerNight": 150000,
  "maxGuests": 4,
  "allowsPets": false,
  "amenities": ["wifi", "parking", "kitchen"],
  "checkInTime": "15:00",
  "checkOutTime": "11:00",
  "minNights": 1,
  "maxNights": 30,
  "hostStory": "할머니께서 평생 가꾸신...",
  "rules": "실내 금연, 파티 불가...",
  "images": ["url1", "url2"],
  "thumbnailUrl": "url1",
  "tags": ["#논뷰맛집", "#전통한옥"]
}
```

**Response (201)**:
```json
{
  "property": {
    "id": "...",
    "name": "...",
    "status": "PENDING",
    ...
  }
}
```

### 2. 내 숙소 목록 조회

```http
GET /api/host/properties
Authorization: Bearer {clerk-token}
```

**Response (200)**:
```json
{
  "properties": [
    {
      "id": "...",
      "name": "...",
      "status": "APPROVED",
      "_count": {
        "bookings": 5
      },
      ...
    }
  ]
}
```

### 3. 숙소 수정 (TODO)

```http
PUT /api/host/properties/{propertyId}
```

### 4. 숙소 삭제 (TODO)

```http
DELETE /api/host/properties/{propertyId}
```

### 5. 예약 승인 (TODO)

```http
POST /api/host/bookings/{bookingId}/approve
```

### 6. 예약 거부 (TODO)

```http
POST /api/host/bookings/{bookingId}/reject
```

---

## 트러블슈팅

### Q: "호스트 프로필이 필요합니다" 오류

**A**: 먼저 `/become-a-host`에서 호스트 신청을 완료하고 관리자 승인을 기다려야 합니다.

### Q: 숙소가 공개되지 않아요

**A**: 숙소는 등록 후 관리자 검토를 거쳐 승인되어야 공개됩니다. 보통 1-2 영업일이 소요됩니다.

### Q: 이미지를 어디에 업로드하나요?

**A**: 현재는 외부 이미지 호스팅 서비스(예: Cloudinary, AWS S3)를 사용하여 이미지를 업로드한 후 URL을 입력해야 합니다. 파일 업로드 기능은 추후 추가될 예정입니다.

### Q: 예약을 취소하고 싶어요

**A**: 예약 취소 기능은 추후 추가될 예정입니다. 현재는 관리자에게 문의해주세요.

---

## 다음 개발 예정 기능

- [ ] 숙소 수정 기능
- [ ] 숙소 삭제 기능
- [ ] 예약 승인/거부 기능
- [ ] 이미지 파일 업로드
- [ ] 호스트 프로필 수정
- [ ] 예약 캘린더 뷰
- [ ] 예약 통계 및 수익 관리
- [ ] 게스트와의 메시징
- [ ] 리뷰 관리

---

**문의**: support@choncance.com
**버전**: 1.0 (2025-10-28)
**작성자**: Claude Code
